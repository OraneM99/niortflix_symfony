{% extends 'base.html.twig' %}

{% block title %}{{ contributor.name }}{% endblock %}
{% block body_class %}page-contributors{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/contributor-index.css') }}?v={{ 'now'|date('U') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/dashboard.css') }}?v={{ 'now'|date('U') }}">
{% endblock %}

{% block body %}
    {% include 'admin/_admin-nav.html.twig' %}

    <div class="contributor-container">
        <div class="contributor-header">
            <h1>{{ contributor.name }}</h1>
            <div>
                <a href="{{ path('contributor_edit', {id: contributor.id}) }}" class="btn btn-sm btn-outline-warning">
                    <img src="{{ asset('icons/edit.png') }}" class="icon" alt=""> Modifier
                </a>
                <a href="{{ path('contributor_index') }}" class="btn btn-sm btn-secondary">
                    ⬅ Retour
                </a>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-md-4 text-center">
                {% if contributor.photo %}
                    <img src="{{ asset('uploads/profile_pictures/' ~ contributor.photo) }}"
                         alt="{{ contributor.name }}"
                         class="img-fluid rounded shadow"
                         style="max-height: 300px; object-fit: cover;">
                {% else %}
                    <div class="text-muted">Aucune photo disponible</div>
                {% endif %}
            </div>

            <div class="col-md-8">
                <p><strong>Rôle :</strong> {{ contributor.role ?: '—' }}</p>
                <p><strong>Pays :</strong> {{ contributor.country ?: '—' }}</p>
                <p><strong>Date de naissance :</strong>
                    {{ contributor.birthDate ? contributor.birthDate|date('d/m/Y') : '—' }}
                </p>
                <hr>
                <h5>Biographie</h5>
                <p>{{ contributor.biography ?: 'Aucune biographie disponible.' }}</p>
            </div>
        </div>

        {% if contributor.series|length > 0 %}
            <hr>
            <h4>Séries associées</h4>
            <ul>
                {% for serie in contributor.series %}
                    <li>
                        <a href="{{ path('serie_detail', {id: serie.id}) }}" class="text-decoration-none text-info">
                            {{ serie.name }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
{% endblock %}
